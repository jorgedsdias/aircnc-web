{"version":3,"sources":["services/api.js","pages/Login/index.js","pages/Dashboard/index.js","pages/New/index.js","routes.js","App.js","index.js","assets/logo.svg","assets/camera.svg"],"names":["api","axios","create","baseURL","Login","history","useState","email","setEmail","e","a","preventDefault","post","response","_id","data","localStorage","setItem","push","onSubmit","htmlFor","type","id","placeholder","value","onChange","event","target","className","Dashboard","spots","setSpots","requests","setRequests","user_id","getItem","socket","useMemo","socketio","query","filter","request","delete","spot","useEffect","on","get","headers","loadSpots","map","key","user","company","date","onClick","handleAccept","handleReject","style","backgroundImage","thumbnail_url","price","href","window","confirm","handleRemove","to","New","thumbnail","setThumbnail","setCompany","techs","setTech","setPrice","preview","URL","createObjectURL","FormData","append","files","src","camera","alt","Routes","path","exact","component","App","logo","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8739e061.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:3333'\r\n});\r\n\r\nexport default api;","import React, { useState } from 'react';\r\nimport api from '../../services/api';\r\n\r\nexport default function Login({ history }) {\r\n    const [email, setEmail] = useState('');\r\n\r\n    async function handleSubmit(e) {\r\n      e.preventDefault();\r\n  \r\n      const response = await api.post('/sessions', { email });\r\n  \r\n      const { _id } = response.data;\r\n  \r\n      localStorage.setItem('user', _id);\r\n\r\n      history.push('/dashboard');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <p>\r\n                Ofereça <strong>spots</strong> para programadores e encontre <strong>talentos</strong> para sua empresa\r\n            </p>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n            <label htmlFor=\"email\">E-mail *</label>\r\n            <input \r\n                type=\"email\" \r\n                id=\"email\" \r\n                placeholder=\"Seu melhor e-mail\"\r\n                value={email}\r\n                onChange={event => setEmail(event.target.value)}\r\n            />\r\n\r\n            <button type=\"submit\" className=\"btn\">Entrar</button>\r\n            </form>\r\n        </>\r\n    );\r\n}","import React, { useEffect, useState, useMemo } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport socketio from 'socket.io-client';\r\nimport api from '../../services/api';\r\nimport './styles.css';\r\n\r\nexport default function Dashboard() {\r\n    const [spots, setSpots] = useState([]);\r\n    const [requests, setRequests] = useState([]);\r\n\r\n    const user_id = localStorage.getItem('user');\r\n    const socket = useMemo(() => socketio('http://localhost:3333', {\r\n        query: { user_id },\r\n    }), [user_id]);\r\n\r\n    useEffect(() => {\r\n        socket.on('booking_request', data => {\r\n            setRequests([...requests, data]);\r\n        });\r\n    }, [requests, socket]);\r\n\r\n    useEffect(() => {\r\n        async function loadSpots() {\r\n            const user_id = localStorage.getItem('user');\r\n            const response = await api.get('/dashboard', {\r\n                headers: { user_id }\r\n            });\r\n\r\n            setSpots(response.data);\r\n        }\r\n\r\n        loadSpots();\r\n    }, []);\r\n\r\n    async function handleAccept(id) {\r\n        await api.post(`/bookings/${id}/approvals`);\r\n\r\n        setRequests(requests.filter(request => request._id !== id));\r\n    }\r\n\r\n    async function handleReject(id) {\r\n        await api.post(`/bookings/${id}/rejections`);\r\n\r\n        setRequests(requests.filter(request => request._id !== id));\r\n    }\r\n\r\n    async function handleRemove(id) {\r\n        await api.delete(`/spots/${id}/remove`);\r\n\r\n        setSpots(spots.filter(spot => spot._id !== id));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ul className=\"notifications\">\r\n                {requests.map(request => (\r\n                    <li key={request._id}>\r\n                        <p>\r\n                            <strong>{request.user.email}</strong> está solicitando uma reserva em <strong>{request.spot.company}</strong> para a data: <strong>{request.date}</strong>\r\n                        </p>\r\n                        <button className=\"accept\" onClick={() => handleAccept(request._id)}>ACEITAR</button>\r\n                        <button className=\"reject\"  onClick={() => handleReject(request._id)}>REJEITAR</button>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            <ul className=\"spot-list\">\r\n                {spots.map(spot => (\r\n                    <li key={spot._id}>\r\n                        <header style={{ backgroundImage: `url(${spot.thumbnail_url})` }} />\r\n                        <strong>{spot.company}</strong>\r\n                        <span>{spot.price ? `R$${spot.price}/dia` : 'GRATUITO'}</span>\r\n                        <a href=\"#\" onClick={() => { if(window.confirm('Quer mesmo remover esse spot?')) { handleRemove(spot._id) } }} className=\"removerSpot\">REMOVER SPOT</a>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n\r\n            <Link to=\"/new\">\r\n                <button className=\"btn\">Cadastrar Novo Spot</button>\r\n            </Link>\r\n        </>\r\n    )\r\n}","import React, { useState, useMemo } from 'react';\r\nimport api from '../../services/api';\r\n\r\nimport camera from '../../assets/camera.svg';\r\n\r\nimport './styles.css';\r\n\r\nexport default function New({ history }) {\r\n    const [thumbnail, setThumbnail] = useState(null);\r\n    const [company, setCompany] = useState('');\r\n    const [techs, setTech] = useState('');\r\n    const [price, setPrice] = useState('');\r\n\r\n    const preview = useMemo(() => {\r\n        return thumbnail ? URL.createObjectURL(thumbnail) : null\r\n    }, [thumbnail]);\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        const data = new FormData();\r\n        const user_id = localStorage.getItem('user');\r\n\r\n        data.append('thumbnail', thumbnail);\r\n        data.append('company', company);\r\n        data.append('techs', techs);\r\n        data.append('price', price);\r\n\r\n        await api.post('/spots', data, {\r\n            headers: { user_id }\r\n        });\r\n\r\n        history.push('/dashboard');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={handleSubmit}>\r\n                <label \r\n                    id=\"thumbnail\" \r\n                    style={{ backgroundImage: `url(${preview}` }}\r\n                    className={thumbnail ? 'has-thumbnail' : ''}\r\n                >\r\n                    <input type=\"file\" onChange={event => setThumbnail(event.target.files[0])} />\r\n                    <img src={camera} alt=\"Select img\" />\r\n                </label>\r\n\r\n                <label htmlFor=\"company\">EMPRESA *</label>\r\n                <input \r\n                    id=\"company\"\r\n                    placeholder=\"Sua empresa incrível\"\r\n                    value={company}\r\n                    onChange={event => setCompany(event.target.value)}\r\n                />\r\n\r\n                <label htmlFor=\"techs\">TECNOLOGIAS * <span>(separadas por vírgula</span></label>\r\n                <input \r\n                    id=\"techs\"\r\n                    placeholder=\"Quais tecnologias usam?\"\r\n                    value={techs}\r\n                    onChange={event => setTech(event.target.value)}\r\n                />\r\n\r\n                <label htmlFor=\"price\">VALOR DA DIÁRIA * <span>(em branco para gratuito)</span></label>\r\n                <input \r\n                    id=\"price\"\r\n                    placeholder=\"Valor cobrado por dia\"\r\n                    value={price}\r\n                    onChange={event => setPrice(event.target.value)}\r\n                />\r\n\r\n                <button type=\"submit\" className=\"btn\">Cadastrar</button>\r\n            </form>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport Login from './pages/Login';\r\nimport Dashboard from './pages/Dashboard';\r\nimport New from './pages/New';\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Login} />\r\n                <Route path=\"/dashboard\" component={Dashboard} />\r\n                <Route path=\"/new\" component={New} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n}","import React from 'react';\r\nimport './App.css';\r\n\r\nimport logo from './assets/logo.svg';\r\n\r\nimport Routes from './routes';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"container\">\r\n      <img src={logo} alt=\"AirCnc\" />\r\n\r\n      <div className=\"content\">\r\n        <Routes />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/logo.74052802.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera.6a6f4b6e.svg\";"],"sourceRoot":""}